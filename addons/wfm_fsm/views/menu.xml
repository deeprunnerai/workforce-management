<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Admin Dashboard Client Action -->
    <record id="action_admin_dashboard" model="ir.actions.client">
        <field name="name">Admin Dashboard</field>
        <field name="tag">wfm_fsm.admin_dashboard</field>
    </record>

    <!-- Coordinator Dashboard Client Action -->
    <record id="action_coordinator_dashboard" model="ir.actions.client">
        <field name="name">Coordinator Dashboard</field>
        <field name="tag">wfm_fsm.coordinator_dashboard</field>
    </record>

    <!-- ============================================ -->
    <!-- ADMIN DASHBOARD (sequence 10)               -->
    <!-- WFM Admin + System Admin ONLY               -->
    <!-- ============================================ -->
    <menuitem id="menu_admin_dashboard"
              name="Dashboard"
              parent="wfm_core.menu_wfm_root"
              action="action_admin_dashboard"
              groups="base.group_system,wfm_core.group_wfm_admin"
              sequence="10"/>

    <!-- ============================================ -->
    <!-- COORDINATOR DASHBOARD (sequence 10)         -->
    <!-- WFM Coordinator ONLY                        -->
    <!-- ============================================ -->
    <menuitem id="menu_coordinator_dashboard"
              name="Dashboard"
              parent="wfm_core.menu_wfm_root"
              action="action_coordinator_dashboard"
              groups="wfm_portal.group_wfm_coordinator"
              sequence="10"/>

    <!-- ============================================ -->
    <!-- VISITS SUB-ITEMS                            -->
    <!-- Admin + Coordinator                         -->
    <!-- ============================================ -->
    <menuitem id="menu_visits_kanban"
              name="Kanban"
              parent="wfm_core.menu_wfm_visits"
              action="action_visit_pipeline"
              sequence="10"/>

    <menuitem id="menu_visits_calendar"
              name="Calendar"
              parent="wfm_core.menu_wfm_visits"
              action="action_visit_calendar"
              sequence="20"/>

    <menuitem id="menu_visits_timeline"
              name="Timeline"
              parent="wfm_core.menu_wfm_visits"
              action="action_wfm_visit_timeline"
              sequence="30"/>

    <menuitem id="menu_visits_by_client"
              name="By Client"
              parent="wfm_core.menu_wfm_visits"
              action="wfm_core.action_wfm_visits_by_client"
              sequence="40"/>

    <!-- ============================================ -->
    <!-- PARTNERS TIMELINE                           -->
    <!-- Admin + Coordinator                         -->
    <!-- ============================================ -->
    <menuitem id="menu_partners_timeline"
              name="Timeline"
              parent="wfm_core.menu_wfm_partners_parent"
              action="action_wfm_installation_service_timeline"
              sequence="40"/>

    <!-- ============================================ -->
    <!-- PARTNER HEALTH (Churn Dashboard)            -->
    <!-- Admin + Coordinator                         -->
    <!-- ============================================ -->
    <menuitem id="menu_partner_health"
              name="Partner Health"
              parent="wfm_core.menu_wfm_partners_parent"
              action="action_churn_dashboard"
              groups="base.group_system,wfm_core.group_wfm_admin,wfm_portal.group_wfm_coordinator"
              sequence="50"/>

    <!-- ============================================ -->
    <!-- CLIENTS TIMELINE                            -->
    <!-- Admin ONLY (inherits from parent)           -->
    <!-- ============================================ -->
    <menuitem id="menu_clients_timeline"
              name="Timeline"
              parent="wfm_core.menu_wfm_clients_parent"
              action="action_wfm_contract_timeline"
              sequence="40"/>

    <!-- ============================================ -->
    <!-- REQUESTS (Parent for Referrals)             -->
    <!-- Admin + Coordinator                         -->
    <!-- ============================================ -->
    <menuitem id="menu_requests_parent"
              name="Requests"
              parent="wfm_core.menu_wfm_root"
              groups="base.group_system,wfm_core.group_wfm_admin,wfm_portal.group_wfm_coordinator"
              sequence="55"/>

    <menuitem id="menu_partner_referrals"
              name="Referrals"
              parent="menu_requests_parent"
              action="action_referral_coordinator"
              sequence="10"/>
</odoo>
