<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Root Menu - visible to Admin and Coordinator -->
    <menuitem id="menu_wfm_root"
              name="Workforce Management"
              sequence="50"
              groups="wfm_core.group_wfm_admin,wfm_portal.group_wfm_coordinator"
              web_icon="wfm_core,static/description/icon.png"/>

    <!-- ============================================ -->
    <!-- VISITS DROPDOWN (sequence 20)               -->
    <!-- Admin + Coordinator                         -->
    <!-- ============================================ -->
    <menuitem id="menu_wfm_visits"
              name="Visits"
              parent="menu_wfm_root"
              groups="wfm_core.group_wfm_admin,wfm_portal.group_wfm_coordinator"
              sequence="20"/>

    <!-- ============================================ -->
    <!-- PARTNERS DROPDOWN (sequence 30)             -->
    <!-- Admin + Coordinator                         -->
    <!-- ============================================ -->
    <menuitem id="menu_wfm_partners_parent"
              name="Partners"
              parent="menu_wfm_root"
              groups="wfm_core.group_wfm_admin,wfm_portal.group_wfm_coordinator"
              sequence="30"/>

    <menuitem id="menu_wfm_partners_all"
              name="All"
              parent="menu_wfm_partners_parent"
              action="action_wfm_partners"
              sequence="10"/>

    <menuitem id="menu_wfm_partners_physicians"
              name="Physicians"
              parent="menu_wfm_partners_parent"
              action="action_wfm_partners_physicians"
              sequence="20"/>

    <menuitem id="menu_wfm_partners_engineers"
              name="Engineers"
              parent="menu_wfm_partners_parent"
              action="action_wfm_partners_engineers"
              sequence="30"/>

    <!-- ============================================ -->
    <!-- CLIENTS DROPDOWN (sequence 40)              -->
    <!-- Admin ONLY                                  -->
    <!-- ============================================ -->
    <menuitem id="menu_wfm_clients_parent"
              name="Clients"
              parent="menu_wfm_root"
              groups="wfm_core.group_wfm_admin"
              sequence="40"/>

    <menuitem id="menu_wfm_clients_all"
              name="All"
              parent="menu_wfm_clients_parent"
              action="action_wfm_clients"
              sequence="10"/>

    <menuitem id="menu_wfm_installations"
              name="Installations"
              parent="menu_wfm_clients_parent"
              action="action_wfm_installations"
              sequence="20"/>

    <menuitem id="menu_wfm_contracts"
              name="Contracts"
              parent="menu_wfm_clients_parent"
              action="action_wfm_contracts"
              sequence="30"/>

    <menuitem id="menu_wfm_contract_services"
              name="Contract Services"
              parent="menu_wfm_clients_parent"
              action="action_wfm_contract_services"
              sequence="35"/>

    <!-- ============================================ -->
    <!-- REPORTING DROPDOWN (sequence 50)            -->
    <!-- Admin ONLY                                  -->
    <!-- ============================================ -->
    <menuitem id="menu_wfm_reporting"
              name="Reporting"
              parent="menu_wfm_root"
              groups="wfm_core.group_wfm_admin"
              sequence="50"/>

    <!-- SEPE Sub-menu under Reporting -->
    <menuitem id="menu_wfm_sepe_parent"
              name="SEPE"
              parent="menu_wfm_reporting"
              sequence="10"/>

    <menuitem id="menu_wfm_sepe_create"
              name="Create Export"
              parent="menu_wfm_sepe_parent"
              action="action_sepe_export_wizard"
              sequence="10"/>

    <menuitem id="menu_wfm_sepe_exports"
              name="Export History"
              parent="menu_wfm_sepe_parent"
              action="action_wfm_sepe_export"
              sequence="20"/>

    <!-- ============================================ -->
    <!-- BILLING DROPDOWN (sequence 60)              -->
    <!-- Admin ONLY                                  -->
    <!-- ============================================ -->
    <menuitem id="menu_wfm_billing_parent"
              name="Billing"
              parent="menu_wfm_root"
              groups="wfm_core.group_wfm_admin"
              sequence="60"/>

    <menuitem id="menu_wfm_billing_overview"
              name="Overview"
              parent="menu_wfm_billing_parent"
              action="action_billing_overview"
              sequence="10"/>

    <menuitem id="menu_wfm_billing_not_billed"
              name="Not Billed"
              parent="menu_wfm_billing_parent"
              action="action_visits_not_billed"
              sequence="20"/>

    <menuitem id="menu_wfm_billing_invoiced"
              name="Invoiced"
              parent="menu_wfm_billing_parent"
              action="action_visits_invoiced"
              sequence="30"/>

    <menuitem id="menu_wfm_billing_client_paid"
              name="Client Paid"
              parent="menu_wfm_billing_parent"
              action="action_visits_client_paid"
              sequence="40"/>

    <menuitem id="menu_wfm_billing_settled"
              name="Settled"
              parent="menu_wfm_billing_parent"
              action="action_visits_settled"
              sequence="50"/>

    <!-- ============================================ -->
    <!-- AUTOMATION DROPDOWN (sequence 80)           -->
    <!-- Admin ONLY                                  -->
    <!-- ============================================ -->
    <menuitem id="menu_wfm_automation"
              name="Automation"
              parent="menu_wfm_root"
              groups="wfm_core.group_wfm_admin"
              sequence="80"/>

    <menuitem id="menu_wfm_workflows"
              name="Workflows"
              parent="menu_wfm_automation"
              action="wfm_workflow_action"
              sequence="10"/>

    <menuitem id="menu_wfm_workflow_logs"
              name="Execution Logs"
              parent="menu_wfm_automation"
              action="wfm_workflow_log_action"
              sequence="20"/>

    <!-- ============================================ -->
    <!-- CONFIG DROPDOWN (sequence 90)               -->
    <!-- Admin ONLY                                  -->
    <!-- ============================================ -->
    <menuitem id="menu_wfm_config"
              name="Config"
              parent="menu_wfm_root"
              groups="wfm_core.group_wfm_admin"
              sequence="90"/>

    <menuitem id="menu_wfm_stages"
              name="Stages"
              parent="menu_wfm_config"
              action="action_wfm_visit_stages"
              sequence="10"/>
</odoo>
